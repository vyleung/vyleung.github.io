<html>
<meta charset="UTF-8">
<head>
  <title>Clock Widget</title>
  <style>
    .current {
      display: block;
      font-family: sans-serif;
      font-size: 1em;
      color: #000000;
      line-height: 1.5;
      width: 100%;
      text-align: center;
      padding: 0.25em 0 0.25em 0;
    }

    body {
      background-color: #ffffff;
    }

    #time {
      font-size: 1.5em;
      font-weight: bold;
    }

    #greeting {
      font-style: italic;
    }
  </style>
</head>

<body>
  <div class="current" id="date-time">
    <div id="date"></div>
    <div id="time"></div>
    <div id="greeting"></div>
  </div>
</body>

<script>
  var today = new Date();
  var hrs = today.getHours();

  // shows current date
  // document.getElementById("date").innerHTML = today.toLocaleDateString("en-US",
  //   {
  //     year: 'numeric',
  //     month: 'long',
  //     day: 'numeric',
  //     weekday: 'long'
  //   });

  // shows current time
  // reference: https://flexiple.com/javascript-clock/#section2
  function currentTime() {
    let date = new Date();
    let hh = date.getHours();
    let mm = date.getMinutes();
    let session = "AM";

    if (hh == 0) {
      hh = 12;
    }

    if (hh > 12) {
      hh = hh - 12;
      session = "PM";
     }

    hh = (hh < 10) ? "0" + hh : hh;
    mm = (mm < 10) ? "0" + mm : mm;

    let time = hh + ":" + mm + " " + session;

    document.getElementById("time").textContent = time;
    let t = setTimeout(function(){
      currentTime()
      }, 1000);
  }
  currentTime();

  var greet = document.getElementById("greeting");

  if (hrs >= 0 && hrs <= 5) {
      greet.innerHTML = 'Late Night Block';
      document.body.style.backgroundColor = "#C2C2C2";
  }
  else if (hrs >= 6 && hrs <= 11) {
      greet.innerHTML = '(Morning Block)';
      document.body.style.backgroundColor = "#FFE25A";
  }
  else if (hrs >= 12 && hrs <= 16) {
      greet.innerHTML = 'Early Afternoon Block';
      document.body.style.backgroundColor = "#cabdbf";
  }
  else if (hrs >= 17 && hrs <= 20) {
      greet.innerHTML = 'Late Afternoon Block';
      document.body.style.backgroundColor = "#b0c0d1";
  }
  else {
      greet.innerHTML = 'Night Block';
      document.body.style.backgroundColor = "#C2C2C2";
  }

</script>
</html>
